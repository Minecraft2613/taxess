
<!-- ✅ Full Upgraded Player Tax Portal with Animation, Loading Screen, and Full History -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>💼 Player Tax Portal</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    * { box-sizing: border-box; }
    body {
      background: linear-gradient(135deg, #111, #1a1a1a);
      font-family: 'Segoe UI', sans-serif;
      color: #fff; margin: 0; padding: 0;
      animation: fadeIn 1.5s ease-in-out;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(30px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .container {
      max-width: 800px;
      margin: auto;
      padding: 20px;
    }

    input, select, button {
      width: 100%;
      padding: 12px;
      margin: 10px 0;
      border-radius: 6px;
      border: none;
      font-size: 16px;
    }

    input, select {
      background: #222;
      color: #fff;
      border: 1px solid #444;
    }

    button {
      background: #ff8800;
      font-weight: bold;
      color: black;
      cursor: pointer;
      transition: transform 0.2s ease, box-shadow 0.3s ease;
    }

    button:hover {
      transform: scale(1.02);
      box-shadow: 0 0 10px #ffaa00aa;
    }

    .box {
      background: #121212;
      padding: 15px;
      border-radius: 10px;
      margin-top: 20px;
      animation: fadeIn 1s ease-in-out;
    }

    .countdown {
      color: #0f0;
      text-align: center;
      font-weight: bold;
    }

    .loader-overlay {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.9);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 9999;
      flex-direction: column;
    }

    .loader {
      border: 6px solid #333;
      border-top: 6px solid #ffcc00;
      border-radius: 50%;
      width: 60px;
      height: 60px;
      animation: spin 1s linear infinite;
      margin-bottom: 20px;
    }

    @keyframes spin {
      to { transform: rotate(360deg); }
    }

    .hidden { display: none !important; }

    .full-history {
      max-height: 200px;
      overflow-y: auto;
      background: #181818;
      padding: 10px;
      border-radius: 8px;
      margin-top: 10px;
    }
  </style>
</head>
<body>
<div class="loader-overlay" id="loadingScreen">
  <div class="loader"></div>
  <h2>Loading data…</h2>
</div>

<div class="container" id="mainContent" class="hidden">
  <h1>📃 Player Tax Portal</h1>
  <div id="step1">
    <input id="mcid" placeholder="Enter your Minecraft Username" />
    <select id="job"></select>
    <select id="method">
      <option value="Discord">Discord</option>
      <option value="Instagram">Instagram</option>
    </select>
    <input id="contact" placeholder="Your Discord/Instagram Username" />
    <button onclick="startLoading()">Check Tax</button>
  </div>

  <div id="bankBox" class="box hidden"></div>
  <div id="profile" class="box hidden"></div>
  <div id="historyBox" class="box hidden"></div>
  <div class="countdown" id="saveNotice" style="display:none;"></div>
  <canvas id="taxChart" class="hidden"></canvas>
</div>

<script>
const delay = ms => new Promise(r => setTimeout(r, ms));
function startLoading() {
  document.getElementById("loadingScreen").classList.remove("hidden");
  delay(600).then(() => checkTax());
}

async function checkTax() {
  const user = document.getElementById("mcid").value.trim();
  if (!user) return alert("Please enter your username");
  await delay(500); // fake loading

  // Simulate full loading done
  document.getElementById("loadingScreen").classList.add("hidden");
  document.getElementById("mainContent").classList.remove("hidden");
  document.getElementById("bankBox").classList.remove("hidden");
  document.getElementById("profile").classList.remove("hidden");
  document.getElementById("historyBox").classList.remove("hidden");
  document.getElementById("taxChart").classList.remove("hidden");
  document.getElementById("saveNotice").style.display = "block";

  // Show fake content
  document.getElementById("bankBox").innerHTML = "<strong>Bank Info:</strong> Account created.";
  document.getElementById("profile").innerHTML = "<strong>Status:</strong> $4000 tax due.";
  document.getElementById("historyBox").innerHTML = `
    <h3>Full Payment History</h3>
    <div class="full-history">
      <ul>
        <li>$500 on 2025-06-01</li>
        <li>$750 on 2025-06-02</li>
        <li>$1000 on 2025-06-03</li>
        <li>$1750 on 2025-06-04</li>
      </ul>
    </div>`;
  document.getElementById("saveNotice").innerText = "⏳ Time Left: 6d 23h 12m";

  // Dummy Chart
  const ctx = document.getElementById("taxChart").getContext("2d");
  new Chart(ctx, {
    type: 'line',
    data: {
      labels: ["06/01", "06/02", "06/03", "06/04"],
      datasets: [{
        label: "Daily Tax ($)",
        data: [500, 750, 1000, 1750],
        backgroundColor: "rgba(255,204,0,0.2)",
        borderColor: "#ffcc00",
        borderWidth: 2,
        tension: 0.4,
        fill: true
      }]
    },
    options: {
      animation: {
        duration: 1500,
        easing: "easeInOutQuart"
      },
      scales: {
        y: { beginAtZero: true }
      }
    }
  });
}

window.onload = () => {
  document.getElementById("job").innerHTML = ["Farmer", "Miner", "Builder", "Trader"]
    .map(j => `<option>${j}</option>`).join("");
};
</script>
</body>
</html>
